==========================================
MPI INTRA-NODE vs INTER-NODE COMPARISON
==========================================

>>> Scenario A: 4 processes, 1 node (INTRA-NODE BASELINE)
srun: error: Unable to create step for job 5317288: More processors requested than permitted

>>> Scenario B: 4 processes, 4 nodes - 1 per node (MAX INTER-NODE)
srun: ROUTE: split_hostlist: hl=slurm-compute-h21a8-u29-svn4,slurm-compute-h22b8-u7-svn4,slurm-compute-h22b8-u8-svn[1,3] tree_width 0
Rank 0 can open file_y: data/data_y.txt
Chargement de 10000 échantillons.
MPI size: 4 | Batch size: 128 | Activation mode: 1
Epoch 0 - Loss: 0.631876 (lr=0.010000)
slurm-compute-h21a8-u29-svn4:rank1.mlp: Failed to modify UD QP to INIT on mlx5_0: Operation not permitted
slurm-compute-h21a8-u29-svn4:rank0.mlp: Failed to modify UD QP to INIT on mlx5_0: Operation not permitted
slurm-compute-h21a8-u29-svn4:rank3.mlp: Failed to modify UD QP to INIT on mlx5_0: Operation not permitted
--------------------------------------------------------------------------
Open MPI failed an OFI Libfabric library call (fi_endpoint).  This is highly
unusual; your job may behave unpredictably (and/or abort) after this.

  Local host: slurm-compute-h21a8-u29-svn4
  Location: mtl_ofi_component.c:513
  Error: Invalid argument (22)
--------------------------------------------------------------------------
--------------------------------------------------------------------------
Open MPI failed an OFI Libfabric library call (fi_endpoint).  This is highly
unusual; your job may behave unpredictably (and/or abort) after this.

  Local host: slurm-compute-h21a8-u29-svn4
  Location: mtl_ofi_component.c:513
  Error: Invalid argument (22)
--------------------------------------------------------------------------
--------------------------------------------------------------------------
Open MPI failed an OFI Libfabric library call (fi_endpoint).  This is highly
unusual; your job may behave unpredictably (and/or abort) after this.

  Local host: slurm-compute-h21a8-u29-svn4
  Location: mtl_ofi_component.c:513
  Error: Invalid argument (22)
--------------------------------------------------------------------------
slurm-compute-h22b8-u8-svn3:rank0.mlp: Failed to modify UD QP to INIT on mlx5_0: Operation not permitted
slurm-compute-h22b8-u8-svn3:rank3.mlp: Failed to modify UD QP to INIT on mlx5_0: Operation not permitted
slurm-compute-h22b8-u8-svn3:rank1.mlp: Failed to modify UD QP to INIT on mlx5_0: Operation not permitted
slurm-compute-h22b8-u7-svn4:rank3.mlp: Failed to modify UD QP to INIT on mlx5_0: Operation not permitted
slurm-compute-h22b8-u7-svn4:rank0.mlp: Failed to modify UD QP to INIT on mlx5_0: Operation not permitted
slurm-compute-h22b8-u7-svn4:rank1.mlp: Failed to modify UD QP to INIT on mlx5_0: Operation not permitted
slurm-compute-h22b8-u8-svn1:rank1.mlp: Failed to modify UD QP to INIT on mlx5_0: Operation not permitted
slurm-compute-h22b8-u8-svn1:rank0.mlp: Failed to modify UD QP to INIT on mlx5_0: Operation not permitted
slurm-compute-h22b8-u8-svn1:rank3.mlp: Failed to modify UD QP to INIT on mlx5_0: Operation not permitted
Rank 0 can open file_y: data/data_y.txt
Chargement de 10000 échantillons.
Rank 0 can open file_y: data/data_y.txt
Chargement de 10000 échantillons.
Rank 0 can open file_y: data/data_y.txt
Chargement de 10000 échantillons.
MPI size: 4 | Batch size: 128 | Activation mode: 1
MPI size: 4 | Batch size: 128 | Activation mode: 1
MPI size: 4 | Batch size: 128 | Activation mode: 1
Epoch 0 - Loss: 0.631876 (lr=0.010000)
Epoch 0 - Loss: 0.631876 (lr=0.010000)
Epoch 0 - Loss: 0.631876 (lr=0.010000)
[slurm-compute-h21a8-u29-svn4:441530] 3 more processes have sent help message help-mtl-ofi.txt / OFI call fail
[slurm-compute-h21a8-u29-svn4:441530] Set MCA parameter "orte_base_help_aggregate" to 0 to see all help / error messages
[slurm-compute-h22b8-u7-svn4:1019218] 3 more processes have sent help message help-mtl-ofi.txt / OFI call fail
[slurm-compute-h22b8-u7-svn4:1019218] Set MCA parameter "orte_base_help_aggregate" to 0 to see all help / error messages
[slurm-compute-h22b8-u8-svn3:1340331] 3 more processes have sent help message help-mtl-ofi.txt / OFI call fail
[slurm-compute-h22b8-u8-svn3:1340331] Set MCA parameter "orte_base_help_aggregate" to 0 to see all help / error messages
Epoch 1000 - Loss: 0.284925 (lr=0.010000)
Epoch 1000 - Loss: 0.284925 (lr=0.010000)
Epoch 1000 - Loss: 0.284925 (lr=0.010000)
Epoch 1000 - Loss: 0.284925 (lr=0.010000)
Epoch 2000 - Loss: 0.275439 (lr=0.010000)
Epoch 2000 - Loss: 0.275439 (lr=0.010000)
Epoch 2000 - Loss: 0.275439 (lr=0.010000)
Epoch 2000 - Loss: 0.275439 (lr=0.010000)
Epoch 3000 - Loss: 0.270794 (lr=0.010000)
Epoch 3000 - Loss: 0.270794 (lr=0.010000)
Epoch 3000 - Loss: 0.270794 (lr=0.010000)
Epoch 3000 - Loss: 0.270794 (lr=0.010000)
Epoch 4000 - Loss: 0.268328 (lr=0.010000)
Epoch 4000 - Loss: 0.268328 (lr=0.010000)
Epoch 4000 - Loss: 0.268328 (lr=0.010000)
Epoch 4000 - Loss: 0.268328 (lr=0.010000)
Weights saved (MPI).
Execution time: 1839.8523 seconds
Weights saved (MPI).
Execution time: 1842.6828 seconds
Weights saved (MPI).
Execution time: 1843.9275 seconds
Weights saved (MPI).
Execution time: 1844.3256 seconds

>>> Scenario C: 8 processes, 1 node (INTRA-NODE BASELINE)
srun: error: Unable to create step for job 5317288: More processors requested than permitted

>>> Scenario D: 8 processes, 2 nodes - 4 per node (BALANCED INTER-NODE)
srun: error: Unable to create step for job 5317288: More processors requested than permitted

>>> Scenario F: 16 processes, 1 node (INTRA-NODE BASELINE)
srun: error: Unable to create step for job 5317288: More processors requested than permitted

>>> Scenario H: 16 processes, 4 nodes - 4 per node (BALANCED INTER-NODE)
srun: error: Unable to create step for job 5317288: More processors requested than permitted

==========================================
COMPARISON COMPLETE
==========================================
